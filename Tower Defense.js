/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: Tower Defense
@author: 
@tags: []
@addedOn: 2024-00-00
*/

const flag = "f"
const portal = "p"
const lmonster = "m"
const rmonster = "n"
const wizard = "w"

const floor = "0"
const xpath = "1"
const ypath = "2"
const dlpath = "3"
const drpath = "4"
const ulpath = "5"
const urpath = "6"

setLegend(
  [lmonster, bitmap`
................
................
................
................
................
................
......000.......
.....0FFF00.....
....0FFFFFD0....
...0FFFFFFDD0...
...0F3F3FDDD0...
..0FF3F3FDDDD0..
..0FFFFFDDDDD0..
..00FFDDDDDD00..
...0000000000...
................`],
  [rmonster, bitmap`
................
................
................
................
................
................
.......000......
.....00FFF0.....
....0DFFFFF0....
...0DDFFFFFF0...
...0DDDF3F3F0...
..0DDDDF3F3FF0..
..0DDDDDFFFFF0..
..00DDDDDDFF00..
...0000000000...
................`],
  
  [portal, bitmap`
1LLLLLLLLLLLLLL1
LL0H008800HH00LL
L0H008HHHHH00H0L
L00H88H8888HH0HL
LH0H8HHHHHH8800L
LHH8HH8888HH880L
L0H8H88HH88HHH8L
L0H8H8HHHH8H8H8L
L8H8H8HHHH8H8H0L
L8HHH88HH88H8H0L
L088HH8888HH8HHL
L0088HHHHHH8H0HL
LH0HH8888H88H00L
L0H00HHHHH800H0L
LL00HH008800H0LL
1LLLLLLLLLLLLLL1`],
  [flag, bitmap`
1LLLLLLLLLLLLLL1
LL............LL
L..............L
L....9C57..77..L
L....9C5757777.L
L....9C57777...L
L....9C577777..L
L....9C....77..L
L....9C...77...L
L...19C1.......L
L..1L9CL1......L
L..1.9C.1......L
L..L1111L......L
L...LLLL.......L
LL............LL
1LLLLLLLLLLLLLL1`],

  [floor, bitmap`
LLLLLLLLLLLLLLLL
111L1111111L1111
111L1111111L1111
111L1111111L1111
LLLLLLLLLLLLLLLL
1111111L1111111L
1111111L1111111L
1111111L1111111L
LLLLLLLLLLLLLLLL
111L1111111L1111
111L1111111L1111
111L1111111L1111
LLLLLLLLLLLLLLLL
1111111L1111111L
1111111L1111111L
1111111L1111111L`],
  [xpath, bitmap`
1111111111111111
LLLLLLLLLLLLLLLL
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
6600006666000066
6600006666000066
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
LLLLLLLLLLLLLLLL
1111111111111111`],
  [ypath, bitmap`
1L000006600000L1
1L000006600000L1
1L000000000000L1
1L000000000000L1
1L000000000000L1
1L000000000000L1
1L000006600000L1
1L000006600000L1
1L000006600000L1
1L000006600000L1
1L000000000000L1
1L000000000000L1
1L000000000000L1
1L000000000000L1
1L000006600000L1
1L000006600000L1`],
  [dlpath, bitmap`
1111111111111111
LLLLLLLLLLLLLLL1
00000000000000L1
00000000000000L1
00000000000000L1
00000000000000L1
00000000000000L1
60000666600000L1
60000666600000L1
00000006600000L1
00000006600000L1
00000000000000L1
00000000000000L1
00000000000000L1
LL000000000000L1
1L000006600000L1`],
  [drpath, bitmap`
1111111111111111
1LLLLLLLLLLLLLLL
1L00000000000000
1L00000000000000
1L00000000000000
1L00000000000000
1L00000000000000
1L00000666600006
1L00000666600006
1L00000660000000
1L00000660000000
1L00000000000000
1L00000000000000
1L00000000000000
1L000000000000LL
1L000006600000L1`],
  [ulpath, bitmap`
1L000006600000L1
LL000000000000L1
00000000000000L1
00000000000000L1
00000000000000L1
00000006600000L1
00000006600000L1
60000666600000L1
60000666600000L1
00000000000000L1
00000000000000L1
00000000000000L1
00000000000000L1
00000000000000L1
LLLLLLLLLLLLLLL1
1111111111111111`],
  [urpath, bitmap`
1L000006600000L1
1L000000000000LL
1L00000000000000
1L00000000000000
1L00000000000000
1L00000660000000
1L00000660000000
1L00000666600006
1L00000666600006
1L00000000000000
1L00000000000000
1L00000000000000
1L00000000000000
1L00000000000000
1LLLLLLLLLLLLLLL
1111111111111111`]
)

setSolids([])

let level = 0
const levels = [
  map`
w.pp4322..
ww22pppp3.
.www61112.
.fmmww.1mm
.ffff..1.m
..ff1111mm
.......mm.
.....mm...`
]

setBackground("0")
setMap(levels[level])

setPushables({
  [player]: []
})

onInput("s", () => {
  getFirst(player).y += 1
})

afterInput(() => {

})